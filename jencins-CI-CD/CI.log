Started by user aguranchik
Running as SYSTEM
Building in workspace /var/lib/jenkins/workspace/docker_ci
The recommended git tool is: NONE
using credential github-ssh-key
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/docker_ci/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url git@github.com:aguranchik/home-servers.git # timeout=10
Fetching upstream changes from git@github.com:aguranchik/home-servers.git
 > git --version # timeout=10
 > git --version # 'git version 2.30.2'
using GIT_SSH to set credentials github-ssh-key
Verifying host key using known hosts file, will automatically accept unseen keys
 > git fetch --tags --force --progress -- git@github.com:aguranchik/home-servers.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision a05e1aef0e398e050d51b3ecd6e8381dcc470c77 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f a05e1aef0e398e050d51b3ecd6e8381dcc470c77 # timeout=10
Commit message: "Update Dockerfile"
 > git rev-list --no-walk a05e1aef0e398e050d51b3ecd6e8381dcc470c77 # timeout=10
[docker_ci] $ /bin/sh -xe /tmp/jenkins16512238725352971470.sh
+ docker build -t debian-apache2:0.1 --build-arg UNAME=guranchik --build-arg NBUILD=50 docker/.
Sending build context to Docker daemon  2.048kB

Step 1/9 : FROM guranchik/debian:0.2
 ---> 8f762bb29c23
Step 2/9 : ARG UNAME
 ---> Using cache
 ---> ed2fb269928b
Step 3/9 : ARG NBUILD
 ---> Using cache
 ---> 81d6b8764b4d
Step 4/9 : ENV TZ=Europe/Minsk
 ---> Using cache
 ---> e609a1751563
Step 5/9 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime
 ---> Running in ee0f49a2fcf1
Removing intermediate container ee0f49a2fcf1
 ---> 56ebf404ae73
Step 6/9 : RUN apt-get -y update && apt-get -y install       apache2
 ---> Running in d49441386f80
Hit:1 http://deb.debian.org/debian bullseye InRelease
Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]
Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
Get:4 http://deb.debian.org/debian-security bullseye-security/main arm64 Packages [204 kB]
Fetched 297 kB in 0s (772 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils bzip2 file libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap libexpat1 libgdbm-compat4 libgdbm6
  libicu67 libjansson4 liblua5.3-0 libmagic-mgc libmagic1 libncurses6
  libperl5.32 libprocps8 libsqlite3-0 libxml2 mailcap media-types mime-support
  perl perl-modules-5.32 procps psmisc ssl-cert xz-utils
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser
  bzip2-doc gdbm-l10n sensible-utils perl-doc libterm-readline-gnu-perl
  | libterm-readline-perl-perl make libtap-harness-archive-perl
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils bzip2 file libapr1
  libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libexpat1
  libgdbm-compat4 libgdbm6 libicu67 libjansson4 liblua5.3-0 libmagic-mgc
  libmagic1 libncurses6 libperl5.32 libprocps8 libsqlite3-0 libxml2 mailcap
  media-types mime-support perl perl-modules-5.32 procps psmisc ssl-cert
  xz-utils
0 upgraded, 32 newly installed, 0 to remove and 5 not upgraded.
Need to get 21.1 MB of archives.
After this operation, 104 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main arm64 perl-modules-5.32 all 5.32.1-4+deb11u2 [2823 kB]
Get:2 http://deb.debian.org/debian bullseye/main arm64 libgdbm6 arm64 1.19-2 [64.0 kB]
Get:3 http://deb.debian.org/debian bullseye/main arm64 libgdbm-compat4 arm64 1.19-2 [44.6 kB]
Get:4 http://deb.debian.org/debian bullseye/main arm64 libperl5.32 arm64 5.32.1-4+deb11u2 [3911 kB]
Get:5 http://deb.debian.org/debian bullseye/main arm64 perl arm64 5.32.1-4+deb11u2 [293 kB]
Get:6 http://deb.debian.org/debian bullseye/main arm64 libapr1 arm64 1.7.0-6+deb11u1 [98.8 kB]
Get:7 http://deb.debian.org/debian-security bullseye-security/main arm64 libexpat1 arm64 2.2.10-2+deb11u5 [84.1 kB]
Get:8 http://deb.debian.org/debian bullseye/main arm64 libaprutil1 arm64 1.6.1-5 [89.6 kB]
Get:9 http://deb.debian.org/debian bullseye/main arm64 libsqlite3-0 arm64 3.34.1-3 [750 kB]
Get:10 http://deb.debian.org/debian bullseye/main arm64 libaprutil1-dbd-sqlite3 arm64 1.6.1-5 [18.7 kB]
Get:11 http://deb.debian.org/debian bullseye/main arm64 libaprutil1-ldap arm64 1.6.1-5 [16.9 kB]
Get:12 http://deb.debian.org/debian bullseye/main arm64 libjansson4 arm64 2.13.1-1.1 [39.4 kB]
Get:13 http://deb.debian.org/debian bullseye/main arm64 liblua5.3-0 arm64 5.3.3-1.1+b1 [110 kB]
Get:14 http://deb.debian.org/debian bullseye/main arm64 libicu67 arm64 67.1-7 [8467 kB]
Get:15 http://deb.debian.org/debian-security bullseye-security/main arm64 libxml2 arm64 2.9.10+dfsg-6.7+deb11u3 [630 kB]
Get:16 http://deb.debian.org/debian bullseye/main arm64 apache2-bin arm64 2.4.54-1~deb11u1 [1310 kB]
Get:17 http://deb.debian.org/debian bullseye/main arm64 apache2-data all 2.4.54-1~deb11u1 [160 kB]
Get:18 http://deb.debian.org/debian bullseye/main arm64 apache2-utils arm64 2.4.54-1~deb11u1 [257 kB]
Get:19 http://deb.debian.org/debian bullseye/main arm64 media-types all 4.0.0 [30.3 kB]
Get:20 http://deb.debian.org/debian bullseye/main arm64 mailcap all 3.69 [31.7 kB]
Get:21 http://deb.debian.org/debian bullseye/main arm64 mime-support all 3.66 [10.9 kB]
Get:22 http://deb.debian.org/debian bullseye/main arm64 libncurses6 arm64 6.2+20201114-2 [93.2 kB]
Get:23 http://deb.debian.org/debian bullseye/main arm64 libprocps8 arm64 2:3.3.17-5 [61.9 kB]
Get:24 http://deb.debian.org/debian bullseye/main arm64 procps arm64 2:3.3.17-5 [497 kB]
Get:25 http://deb.debian.org/debian bullseye/main arm64 apache2 arm64 2.4.54-1~deb11u1 [275 kB]
Get:26 http://deb.debian.org/debian bullseye/main arm64 bzip2 arm64 1.0.8-4 [48.4 kB]
Get:27 http://deb.debian.org/debian bullseye/main arm64 libmagic-mgc arm64 1:5.39-3 [273 kB]
Get:28 http://deb.debian.org/debian bullseye/main arm64 libmagic1 arm64 1:5.39-3 [121 kB]
Get:29 http://deb.debian.org/debian bullseye/main arm64 file arm64 1:5.39-3 [69.1 kB]
Get:30 http://deb.debian.org/debian bullseye/main arm64 xz-utils arm64 5.2.5-2.1~deb11u1 [219 kB]
Get:31 http://deb.debian.org/debian bullseye/main arm64 psmisc arm64 23.4-2 [196 kB]
Get:32 http://deb.debian.org/debian bullseye/main arm64 ssl-cert all 1.1.0+nmu1 [21.0 kB]
[91mdebconf: delaying package configuration, since apt-utils is not installed
[0mFetched 21.1 MB in 2s (10.4 MB/s)
Selecting previously unselected package perl-modules-5.32.
(Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 7583 files and directories currently installed.)
Preparing to unpack .../00-perl-modules-5.32_5.32.1-4+deb11u2_all.deb ...
Unpacking perl-modules-5.32 (5.32.1-4+deb11u2) ...
Selecting previously unselected package libgdbm6:arm64.
Preparing to unpack .../01-libgdbm6_1.19-2_arm64.deb ...
Unpacking libgdbm6:arm64 (1.19-2) ...
Selecting previously unselected package libgdbm-compat4:arm64.
Preparing to unpack .../02-libgdbm-compat4_1.19-2_arm64.deb ...
Unpacking libgdbm-compat4:arm64 (1.19-2) ...
Selecting previously unselected package libperl5.32:arm64.
Preparing to unpack .../03-libperl5.32_5.32.1-4+deb11u2_arm64.deb ...
Unpacking libperl5.32:arm64 (5.32.1-4+deb11u2) ...
Selecting previously unselected package perl.
Preparing to unpack .../04-perl_5.32.1-4+deb11u2_arm64.deb ...
Unpacking perl (5.32.1-4+deb11u2) ...
Selecting previously unselected package libapr1:arm64.
Preparing to unpack .../05-libapr1_1.7.0-6+deb11u1_arm64.deb ...
Unpacking libapr1:arm64 (1.7.0-6+deb11u1) ...
Selecting previously unselected package libexpat1:arm64.
Preparing to unpack .../06-libexpat1_2.2.10-2+deb11u5_arm64.deb ...
Unpacking libexpat1:arm64 (2.2.10-2+deb11u5) ...
Selecting previously unselected package libaprutil1:arm64.
Preparing to unpack .../07-libaprutil1_1.6.1-5_arm64.deb ...
Unpacking libaprutil1:arm64 (1.6.1-5) ...
Selecting previously unselected package libsqlite3-0:arm64.
Preparing to unpack .../08-libsqlite3-0_3.34.1-3_arm64.deb ...
Unpacking libsqlite3-0:arm64 (3.34.1-3) ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:arm64.
Preparing to unpack .../09-libaprutil1-dbd-sqlite3_1.6.1-5_arm64.deb ...
Unpacking libaprutil1-dbd-sqlite3:arm64 (1.6.1-5) ...
Selecting previously unselected package libaprutil1-ldap:arm64.
Preparing to unpack .../10-libaprutil1-ldap_1.6.1-5_arm64.deb ...
Unpacking libaprutil1-ldap:arm64 (1.6.1-5) ...
Selecting previously unselected package libjansson4:arm64.
Preparing to unpack .../11-libjansson4_2.13.1-1.1_arm64.deb ...
Unpacking libjansson4:arm64 (2.13.1-1.1) ...
Selecting previously unselected package liblua5.3-0:arm64.
Preparing to unpack .../12-liblua5.3-0_5.3.3-1.1+b1_arm64.deb ...
Unpacking liblua5.3-0:arm64 (5.3.3-1.1+b1) ...
Selecting previously unselected package libicu67:arm64.
Preparing to unpack .../13-libicu67_67.1-7_arm64.deb ...
Unpacking libicu67:arm64 (67.1-7) ...
Selecting previously unselected package libxml2:arm64.
Preparing to unpack .../14-libxml2_2.9.10+dfsg-6.7+deb11u3_arm64.deb ...
Unpacking libxml2:arm64 (2.9.10+dfsg-6.7+deb11u3) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../15-apache2-bin_2.4.54-1~deb11u1_arm64.deb ...
Unpacking apache2-bin (2.4.54-1~deb11u1) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../16-apache2-data_2.4.54-1~deb11u1_all.deb ...
Unpacking apache2-data (2.4.54-1~deb11u1) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../17-apache2-utils_2.4.54-1~deb11u1_arm64.deb ...
Unpacking apache2-utils (2.4.54-1~deb11u1) ...
Selecting previously unselected package media-types.
Preparing to unpack .../18-media-types_4.0.0_all.deb ...
Unpacking media-types (4.0.0) ...
Selecting previously unselected package mailcap.
Preparing to unpack .../19-mailcap_3.69_all.deb ...
Unpacking mailcap (3.69) ...
Selecting previously unselected package mime-support.
Preparing to unpack .../20-mime-support_3.66_all.deb ...
Unpacking mime-support (3.66) ...
Selecting previously unselected package libncurses6:arm64.
Preparing to unpack .../21-libncurses6_6.2+20201114-2_arm64.deb ...
Unpacking libncurses6:arm64 (6.2+20201114-2) ...
Selecting previously unselected package libprocps8:arm64.
Preparing to unpack .../22-libprocps8_2%3a3.3.17-5_arm64.deb ...
Unpacking libprocps8:arm64 (2:3.3.17-5) ...
Selecting previously unselected package procps.
Preparing to unpack .../23-procps_2%3a3.3.17-5_arm64.deb ...
Unpacking procps (2:3.3.17-5) ...
Selecting previously unselected package apache2.
Preparing to unpack .../24-apache2_2.4.54-1~deb11u1_arm64.deb ...
Unpacking apache2 (2.4.54-1~deb11u1) ...
Selecting previously unselected package bzip2.
Preparing to unpack .../25-bzip2_1.0.8-4_arm64.deb ...
Unpacking bzip2 (1.0.8-4) ...
Selecting previously unselected package libmagic-mgc.
Preparing to unpack .../26-libmagic-mgc_1%3a5.39-3_arm64.deb ...
Unpacking libmagic-mgc (1:5.39-3) ...
Selecting previously unselected package libmagic1:arm64.
Preparing to unpack .../27-libmagic1_1%3a5.39-3_arm64.deb ...
Unpacking libmagic1:arm64 (1:5.39-3) ...
Selecting previously unselected package file.
Preparing to unpack .../28-file_1%3a5.39-3_arm64.deb ...
Unpacking file (1:5.39-3) ...
Selecting previously unselected package xz-utils.
Preparing to unpack .../29-xz-utils_5.2.5-2.1~deb11u1_arm64.deb ...
Unpacking xz-utils (5.2.5-2.1~deb11u1) ...
Selecting previously unselected package psmisc.
Preparing to unpack .../30-psmisc_23.4-2_arm64.deb ...
Unpacking psmisc (23.4-2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../31-ssl-cert_1.1.0+nmu1_all.deb ...
Unpacking ssl-cert (1.1.0+nmu1) ...
Setting up libexpat1:arm64 (2.2.10-2+deb11u5) ...
Setting up media-types (4.0.0) ...
Setting up libicu67:arm64 (67.1-7) ...
Setting up libmagic-mgc (1:5.39-3) ...
Setting up psmisc (23.4-2) ...
Setting up perl-modules-5.32 (5.32.1-4+deb11u2) ...
Setting up libsqlite3-0:arm64 (3.34.1-3) ...
Setting up libmagic1:arm64 (1:5.39-3) ...
Setting up libapr1:arm64 (1.7.0-6+deb11u1) ...
Setting up file (1:5.39-3) ...
Setting up bzip2 (1.0.8-4) ...
Setting up libjansson4:arm64 (2.13.1-1.1) ...
Setting up ssl-cert (1.1.0+nmu1) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
Setting up libncurses6:arm64 (6.2+20201114-2) ...
Setting up xz-utils (5.2.5-2.1~deb11u1) ...
update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
Setting up liblua5.3-0:arm64 (5.3.3-1.1+b1) ...
Setting up apache2-data (2.4.54-1~deb11u1) ...
Setting up libxml2:arm64 (2.9.10+dfsg-6.7+deb11u3) ...
Setting up libprocps8:arm64 (2:3.3.17-5) ...
Setting up libgdbm6:arm64 (1.19-2) ...
Setting up libaprutil1:arm64 (1.6.1-5) ...
Setting up libaprutil1-ldap:arm64 (1.6.1-5) ...
Setting up libaprutil1-dbd-sqlite3:arm64 (1.6.1-5) ...
Setting up libgdbm-compat4:arm64 (1.19-2) ...
Setting up libperl5.32:arm64 (5.32.1-4+deb11u2) ...
Setting up procps (2:3.3.17-5) ...
Setting up apache2-utils (2.4.54-1~deb11u1) ...
Setting up perl (5.32.1-4+deb11u2) ...
Setting up mailcap (3.69) ...
Setting up mime-support (3.66) ...
Setting up apache2-bin (2.4.54-1~deb11u1) ...
Setting up apache2 (2.4.54-1~deb11u1) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of start.
Processing triggers for libc-bin (2.31-13+deb11u5) ...
Removing intermediate container d49441386f80
 ---> 9390e76e2436
Step 7/9 : WORKDIR /var/www/html
 ---> Running in d705c13afb00
Removing intermediate container d705c13afb00
 ---> 0df68e453d86
Step 8/9 : RUN echo "Jenkins build #$NBUILD by $UNAME" > index.html
 ---> Running in 55426789c468
Removing intermediate container 55426789c468
 ---> 628a8ae02a38
Step 9/9 : CMD [ "/usr/sbin/apache2ctl", "-DFOREGROUND" ]
 ---> Running in 944b42a2f59e
Removing intermediate container 944b42a2f59e
 ---> 16726ef8ba51
Successfully built 16726ef8ba51
Successfully tagged debian-apache2:0.1
Triggering a new build of docker_cd
Finished: SUCCESS
